<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
    <title>Test 'showallproducts'</title>
  </head>

  <body>
    <table cellpadding="1" cellspacing="1" border="1">
    <thead>
      <tr>
        <td rowspan="1" colspan="3">Bugzilla Test 'showallproducts'</td>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>loadConfigFileAndWait</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>storeParams</td>
        <td>inst branch admin_user_login admin_user_passwd
            QA_Selenium_TEST_user_login QA_Selenium_TEST_user_passwd</td>
        <td>&nbsp;</td>
      </tr>
      <!-- pre-test -->
      <!-- force logout -->
      <tr>
        <td>open</td>
        <td>${inst}relogin.cgi</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Logged Out</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyFlatTextPresent</td>
        <td>Your login has been forgotten</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>open</td>
        <td>${inst}editparams.cgi</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Log in to Bugzilla</td>
        <td>&nbsp;</td>
      </tr>
      <!-- login as admin (required to access editparams.cgi) -->
      <tr>
        <td>type</td>
        <td>Bugzilla_login</td>
        <td>${admin_user_login}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_login</td>
        <td>${admin_user_login}</td>
      </tr>
      <tr>
        <td>type</td>
        <td>Bugzilla_password</td>
        <td>${admin_user_passwd}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_password</td>
        <td>${admin_user_passwd}</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@type='submit' and @value='Log in']</td>
        <td>&nbsp;</td>
      </tr>
    <tr>
      <td>assertTitle</td>
      <td>exact:Configuration: Required Settings</td>
      <td>&nbsp;</td>
    </tr>
      <tr>
        <td>clickAndWait</td>
        <td>link=Bug Fields</td>
        <td>&nbsp;</td>
      </tr>
    <tr>
      <td>assertTitle</td>
      <td>exact:Configuration: Bug Fields</td>
      <td>&nbsp;</td>
    </tr>
      <tr>
        <td>click</td>
        <td>//input[@name='useclassification' and @value='1']</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>click</td>
        <td>//input[@name='showallproducts' and @value='1']</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@type='submit' and @value='Save Changes']</td>
        <td>&nbsp;</td>
      </tr>
    <tr>
      <td>assertTitle</td>
      <td>Parameters Updated</td>
      <td>&nbsp;</td>
    </tr>
      <!-- pre-test end -->
      <!-- showallproducts=on test start -->
      <!-- test as admin (not member of ...) -->
      <tr>
        <td>clickAndWait</td>
        <td>link=New</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Select Classification</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertFlatTextPresent</td>
        <td>All: Show all products</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>flatlink=All</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Enter Bug</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyTextNotPresent</td>
        <td>QA-Selenium-TEST</td>
        <td>&nbsp;</td>
      </tr>
      <!-- showallproducts=on test as admin end -->
      <!-- force logout -->
      <tr>
        <td>clickAndWait</td>
        <td>link=Log out</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Logged Out</td>
        <td>&nbsp;</td>
      </tr>
      <!-- Go back to the login screen again -->
      <tr>
        <td>clickAndWait</td>
        <td>link=Log in again.</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Log in to Bugzilla</td>
        <td>&nbsp;</td>
      </tr>
      <!-- log in as a member of the QA-Selenium-TEST group -->
      <tr>
        <td>type</td>
        <td>Bugzilla_login</td>
        <td>${QA_Selenium_TEST_user_login}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_login</td>
        <td>${QA_Selenium_TEST_user_login}</td>
      </tr>
      <tr>
        <td>type</td>
        <td>Bugzilla_password</td>
        <td>${QA_Selenium_TEST_user_passwd}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_password</td>
        <td>${QA_Selenium_TEST_user_passwd}</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@type='submit' and @value='Log in']</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Bugzilla Main Page</td>
        <td>&nbsp;</td>
      </tr>
      <!-- showallproducts=on test as a member of the QA-Selenium-TEST group start -->
      <tr>
        <td>clickAndWait</td>
        <td>link=New</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Select Classification</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertFlatTextPresent</td>
        <td>All: Show all products</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>flatlink=All</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Enter Bug</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyTextPresent</td>
        <td>QA-Selenium-TEST</td>
        <td>&nbsp;</td>
      </tr>
      <!-- showallproducts=on test as a member of the QA-Selenium-TEST group end -->
      <!-- showallproducts=on test end -->
      <!-- force logout -->
      <tr>
        <td>clickAndWait</td>
        <td>link=Log out</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Logged Out</td>
        <td>&nbsp;</td>
      </tr>
      <!-- Go directly to editparams.cgi -->
      <tr>
        <td>open</td>
        <td>${inst}editparams.cgi</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Log in to Bugzilla</td>
        <td>&nbsp;</td>
      </tr>
      <!-- Log in as admin -->
      <tr>
        <td>type</td>
        <td>Bugzilla_login</td>
        <td>${admin_user_login}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_login</td>
        <td>${admin_user_login}</td>
      </tr>
      <tr>
        <td>type</td>
        <td>Bugzilla_password</td>
        <td>${admin_user_passwd}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_password</td>
        <td>${admin_user_passwd}</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@type='submit' and @value='Log in']</td>
        <td>&nbsp;</td>
      </tr>
    <!-- edit params and goes to test for showallproducts=off -->
    <tr>
      <td>assertTitle</td>
      <td>exact:Configuration: Required Settings</td>
      <td>&nbsp;</td>
    </tr>
      <tr>
        <td>clickAndWait</td>
        <td>link=Bug Fields</td>
        <td>&nbsp;</td>
      </tr>
    <tr>
      <td>assertTitle</td>
      <td>exact:Configuration: Bug Fields</td>
      <td>&nbsp;</td>
    </tr>
      <tr>
        <td>click</td>
        <td>//input[@name='showallproducts' and @value='0']</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@type='submit' and @value='Save Changes']</td>
        <td>&nbsp;</td>
      </tr>
    <tr>
      <td>assertTitle</td>
      <td>Parameters Updated</td>
      <td>&nbsp;</td>
    </tr>
      <!-- showallproducts=off test start -->
      <!-- test as admin start -->
      <tr>
        <td>clickAndWait</td>
        <td>link=New</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Select Classification</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyFlatTextNotPresent</td>
        <td>All: Show all products</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>link=Unclassified</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Enter Bug</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyTextNotPresent</td>
        <td>QA-Selenium-TEST</td>
        <td>&nbsp;</td>
      </tr>
      <!-- test as admin end -->
      <!-- force logout -->
      <tr>
        <td>clickAndWait</td>
        <td>link=Log out</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Logged Out</td>
        <td>&nbsp;</td>
      </tr>
      <!-- Go to the login screen again -->
      <tr>
        <td>clickAndWait</td>
        <td>link=Log In</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Log in to Bugzilla</td>
        <td>&nbsp;</td>
      </tr>
      <!-- login as QA-Selenium-TEST -->
      <tr>
        <td>type</td>
        <td>Bugzilla_login</td>
        <td>${QA_Selenium_TEST_user_login}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_login</td>
        <td>${QA_Selenium_TEST_user_login}</td>
      </tr>
      <tr>
        <td>type</td>
        <td>Bugzilla_password</td>
        <td>${QA_Selenium_TEST_user_passwd}</td>
      </tr>
      <tr>
        <td>verifyValue</td>
        <td>Bugzilla_password</td>
        <td>${QA_Selenium_TEST_user_passwd}</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>//input[@type='submit' and @value='Log in']</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Bugzilla Main Page</td>
        <td>&nbsp;</td>
      </tr>
      <!-- test as QA-Selenium-TEST start -->
      <tr>
        <td>clickAndWait</td>
        <td>link=New</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Select Classification</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertFlatTextNotPresent</td>
        <td>All: Show all products</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>clickAndWait</td>
        <td>link=Unclassified</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>assertTitle</td>
        <td>Enter Bug</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyTextPresent</td>
        <td>QA-Selenium-TEST</td>
        <td>&nbsp;</td>
      </tr>
      <!-- test as QA-Selenium-TEST end -->
      <!-- test end -->
      <!-- force logout -->
      <tr>
        <td>clickAndWait</td>
        <td>link=Log out</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td>verifyTitle</td>
        <td>Logged Out</td>
        <td>&nbsp;</td>
      </tr>
    </tbody>
    </table>
  </body>
</html>
