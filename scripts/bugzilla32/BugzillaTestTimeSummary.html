<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
    <title>time-summary</title>
  </head>

  <body>
    <table cellpadding="1" cellspacing="1" border="1">
      <thead>
        <tr>
          <td rowspan="1" colspan="3">Bugzilla Test Time Summary</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>loadConfigFileAndWait</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>storeParams</td>
          <td>inst branch test_bug_1 admin_user_login admin_user_passwd</td>
          <td>&nbsp;</td>
        </tr><!--Log out and log in-->
        <tr>
          <td>open</td>
          <td>${inst}relogin.cgi</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>Logged Out</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>link=Log&nbsp;In</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>type</td>
          <td>Bugzilla_login</td>
          <td>${admin_user_login}</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>Bugzilla_login</td>
          <td>${admin_user_login}</td>
        </tr>
        <tr>
          <td>type</td>
          <td>Bugzilla_password</td>
          <td>${admin_user_passwd}</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>Bugzilla_password</td>
          <td>${admin_user_passwd}</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Log in']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>Bugzilla Main Page</td>
          <td>&nbsp;</td>
        </tr><!--Setup timetrackinggroup parameter-->
        <tr>
          <td>open</td>
          <td>${inst}/editparams.cgi?section=groupsecurity#timetrackinggroup</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>storeValue</td>
          <td>//select[@name="timetrackinggroup"]</td>
          <td>restore_group</td>
        </tr>
        <tr>
          <td>select</td>
          <td>//select[@name="timetrackinggroup"]</td>
          <td>admin</td>
        </tr>
        <tr>
          <td>verifySelected</td>
          <td>//select[@name="timetrackinggroup"]</td>
          <td>admin</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Save Changes']</td>
          <td>&nbsp;</td>
        </tr><!--No parameters -> no bugs selected-->
        <tr>
          <td>open</td>
          <td>${inst}summarize_time.cgi</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>Time Summary (0 bugs selected)</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>No bugs specified or visible.</td>
          <td>&nbsp;</td>
        </tr><!--Time summary from search form-->
        <tr>
          <td>open</td>
          <td>${inst}query.cgi?format=advanced</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>Search for bugs</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>selectNone</td>
          <td>bug_status</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>select</td>
          <td>field0-0-0</td>
          <td>label=Hours Worked</td>
        </tr>
        <tr>
          <td>assertSelected</td>
          <td>field0-0-0</td>
          <td>label=Hours Worked</td>
        </tr>
        <tr>
          <td>select</td>
          <td>type0-0-0</td>
          <td>label=is greater than</td>
        </tr>
        <tr>
          <td>assertSelected</td>
          <td>type0-0-0</td>
          <td>label=is greater than</td>
        </tr>
        <tr>
          <td>type</td>
          <td>value0-0-0</td>
          <td>0</td>
        </tr>
        <tr>
          <td>assertValue</td>
          <td>value0-0-0</td>
          <td>0</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Search']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>Bug List</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td> found.</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Time Summary']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>regexp:Time Summary \(\d+ bugs selected\)</td>
          <td>&nbsp;</td>
        </tr><!--Generate report with illegal date-->
        <tr>
          <td>click</td>
          <td>id=monthly</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>id=monthly</td>
          <td>on</td>
        </tr>
        <tr>
          <td>click</td>
          <td>id=detailed</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>id=detailed</td>
          <td>on</td>
        </tr>
        <tr>
          <td>type</td>
          <td>start_date</td>
          <td>2005-01-01</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>start_date</td>
          <td>2005-01-01</td>
        </tr>
        <tr>
          <td>type</td>
          <td>end_date</td>
          <td>2005-04-31</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>end_date</td>
          <td>2005-04-31</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Summarize']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>Illegal Date</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>'2005-04-31' is not a legal date.</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>goBackAndWait</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr><!--Succesfully generate the report-->
        <tr>
          <td>type</td>
          <td>end_date</td>
          <td>2005-04-30</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>end_date</td>
          <td>2005-04-30</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Summarize']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertText</td>
          <td>//body/div[@id="bugzilla-body"]/h4</td>
          <td>regexp:Total of \d+.\d\d hours worked</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>2005-01-01 to 2005-01-31</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>2005-02-01 to 2005-02-28</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTextPresent</td>
          <td>2005-04-01 to 2005-04-30</td>
          <td>&nbsp;</td>
        </tr><!--Time summary from one bug-->
        <tr>
          <td>open</td>
          <td>${inst}show_bug.cgi?id=${test_bug_1}</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>assertTitle</td>
          <td>regexp:Bug ${test_bug_1} â€“ .*</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//a[contains(text(),'Summarize time')]</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>click</td>
          <td>id=inactive</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>id=inactive</td>
          <td>on</td>
        </tr>
        <tr>
          <td>click</td>
          <td>//input[@name='group_by' and @value='owner']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyValue</td>
          <td>//input[@name='group_by' and @value='owner']</td>
          <td>on</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Summarize']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTitle</td>
          <td>Time Summary for Bug ${test_bug_1}:</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyText</td>
          <td>//body/div[@id="bugzilla-body"]/h4</td>
          <td>regexp:Total of 1</td>
        </tr><!--Restore timetrackinggroup-->
        <tr>
          <td>open</td>
          <td>${inst}/editparams.cgi?section=groupsecurity#timetrackinggroup</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>select</td>
          <td>//select[@name="timetrackinggroup"]</td>
          <td>${restore_group}</td>
        </tr>
        <tr>
          <td>verifySelected</td>
          <td>//select[@name="timetrackinggroup"]</td>
          <td>${restore_group}</td>
        </tr>
        <tr>
          <td>clickAndWait</td>
          <td>//input[@type='submit' and @value='Save Changes']</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>open</td>
          <td>${inst}relogin.cgi</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td>verifyTitle</td>
          <td>Logged Out</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
